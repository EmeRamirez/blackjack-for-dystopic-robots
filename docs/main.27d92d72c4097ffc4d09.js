(()=>{"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n=[],r=["C","D","H","S"],a=["A","J","Q","K"],o=0,i=0,s=document.querySelector("#btnPedir"),u=document.querySelector("#btnDetener"),c=document.querySelector("#btnNuevo"),l=document.querySelectorAll("small"),d=document.querySelector("#jugador-cartas"),f=document.querySelector("#computadora-cartas"),m=document.querySelector("nombre"),v=sessionStorage.getItem("nombre");m.innerText=v;var y=function(){if(0===n.length)throw"Ups, no hay más cartas en la baraja.";return n.pop(n)},p=function(e){var t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?i<10?11:1:10:1*t},b=function(e){do{var t=y();i+=p(t),l[1].innerText=i;var n=document.createElement("img");if(n.src="assets/cartas/".concat(t,".png"),n.classList.add("carta"),f.append(n),o>21)break}while(i<e&&e<=21)};s.addEventListener("click",(function(){var e=y();o+=function(e){var t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?confirm("Sacaste un As ¿Deseas que el valor sea 11? (Si cancelas valdrá 1)")?11:1:10:1*t}(e),function(e,t){t[0].innerText=e,t[1].innerText=i}(o,l);var t=document.createElement("img");t.src="assets/cartas/".concat(e,".png"),t.classList.add("carta"),d.append(t),o>21?(s.disabled=!0,u.disabled=!0,b(o),setTimeout((function(){alert("Como dice un viejo proverbio chino: Quien todo lo quiele todo lo pielde. ¡Te pasaste!")}),20)):21===o&&(s.disabled=!0,setTimeout((function(){alert("¡21! Es tu día de suerte. Presiona Detener")}),20))})),u.addEventListener("click",(function(){s.disabled=!0,u.disabled=!0,b(o),setTimeout((function(){i>21?alert("¡Felicidades! Derrotaste a la CPU, algún día los robots vengarán su muerte"):i>o?alert("¿Creiste que podías derrotar a una inteligencia artificial? Iluso."):i===o&&21!=o?alert("Buen intento, pero en un empate, gana el que tiene más tornillos, y tú ya los perdiste todos."):21===i&&21===o&&alert("No tan rápido cerebrito, la vida da muchas vueltas y ya te mareaste. Empate.")}),30)})),c.addEventListener("click",(function(){location.reload()})),function(){for(var t=2;t<=10;t++){var o,i=e(r);try{for(i.s();!(o=i.n()).done;){var s=o.value;n.push(t+s)}}catch(e){i.e(e)}finally{i.f()}}var u,c=e(r);try{for(c.s();!(u=c.n()).done;){var l,d=u.value,f=e(a);try{for(f.s();!(l=f.n()).done;){var m=l.value;n.push(m+d)}}catch(e){f.e(e)}finally{f.f()}}}catch(e){c.e(e)}finally{c.f()}n=_.shuffle(n)}(),m.innerText==sessionStorage.getItem("nombre")&&""!==m.innerText&&"null"!==m.innerText||(v=prompt("Ingresa tu nombre"),sessionStorage.setItem("nombre",v),m.innerText=v)})();